(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();const c=document.getElementById("pokemon-container"),i=document.getElementById("search-input"),l=document.getElementById("type-filter"),p=document.getElementById("sort-order");let d=[];function h(n){const r=document.createElement("div");return r.classList.add("pokemon-card"),r.innerHTML=`
    <h3>${n.name.toUpperCase()}</h3>
    <img src="${n.image}" alt="${n.name}">
  `,r.addEventListener("click",()=>{window.location.href=`./pokemon.html?id=${n.id}`}),r}function u(n){if(c.innerHTML="",n.length===0){c.innerHTML="<p>No se encontraron Pok√©mon.</p>";return}n.forEach(r=>{const s=h(r);c.appendChild(s)})}async function f(){try{const r=await(await fetch("https://pokeapi.co/api/v2/pokemon?limit=1025")).json();d=await Promise.all(r.results.map(async o=>{const t=await(await fetch(o.url)).json();return{name:o.name,image:t.sprites.front_default,id:t.id,types:t.types.map(a=>a.type.name)}})),u(d)}catch(n){c.innerHTML="<h1>Cargando Pokemon.</h1>",console.error(n)}}i.addEventListener("input",()=>{const n=i.value.toLowerCase(),r=d.filter(s=>s.name.toLowerCase().includes(n));u(r)});f();async function y(){try{(await(await fetch("https://pokeapi.co/api/v2/type/")).json()).results.filter(o=>!["unknown","shadow"].includes(o.name)).forEach(o=>{const e=document.createElement("option");e.value=o.name,e.textContent=o.name.charAt(0).toUpperCase()+o.name.slice(1),l.appendChild(e)})}catch(n){console.error("Error cargando tipos:",n)}}function m(){const n=i.value.toLowerCase(),r=l.value,s=p.value;let o=d.filter(e=>e.name.toLowerCase().includes(n));r!=="all"&&(o=o.filter(e=>e.types.includes(r))),o.sort((e,t)=>{switch(s){case"id-asc":return e.id-t.id;case"id-desc":return t.id-e.id;case"name-asc":return e.name.localeCompare(t.name);case"name-desc":return t.name.localeCompare(e.name);default:return 0}}),u(o)}p.addEventListener("change",m);l.addEventListener("change",m);i.addEventListener("input",m);y();f();
